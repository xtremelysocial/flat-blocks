/**
 * Theme:	Flat Blocks
 * File:	flatblocks.css
 * 
 * The base stylesheet for the theme's css
 *
 * @package flat-blocks
 */

/*--------------------------------------------------------------
# Html
--------------------------------------------------------------*/
/* Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html {
	-webkit-text-size-adjust: 100%;
}

/*--------------------------------------------------------------
# Body
--------------------------------------------------------------*/

/*
 * Font smoothing.
 * This is a niche setting that will not be available via Global Styles.
 * https://github.com/WordPress/gutenberg/issues/35934
 */
body {
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
}

/*--------------------------------------------------------------
# Main Site Structure
--------------------------------------------------------------*/
/*
 * Don't let anything be wider than our max width. This is so fullwidth images don't
 * get so wide they lose resolution
 */
.wp-site-blocks {
	max-width: var(--wp--custom--layout--full-size);
	margin-left: auto;
    margin-right: auto;
}

/*--------------------------------------------------------------
# Vertical Spacing (Margin)
--------------------------------------------------------------*/

/* Core Wordpress controls vertical spacing by adding the gap setting as top 
 * margin between all blocks on the site. However, certain things like template
 * parts get this too and we want the theme and users to be able to control it. 
 * So push this down to the block level */
 
 /* Remove top margin from the containers */
.wp-site-blocks header,
.wp-site-blocks main,
.wp-site-blocks footer,
.wp-site-blocks .wp-block-template-part,
.wp-site-blocks .wp-block-post-content {
	margin-block-start: 0 !important;
}
 
 /* Add top margin to the container's first block and then between subsequent blocks */
.wp-site-blocks main > *:first-child:not(.wp-block-template-part, .wp-block-post-content, .wp-block-cover,  .wp-block-query, header, footer, nav),
.wp-site-blocks .wp-block-template-part > *:first-child:not(.wp-block-template-part, .wp-block-post-content, .wp-block-cover, .wp-block-query, main, header, footer, nav),
.wp-site-blocks .wp-block-template-part > * + *:not(.wp-block-template-part, .wp-block-query, main, header, footer, nav),
.wp-site-blocks .wp-block-query > *:first-child:not(.wp-block-cover),
.wp-site-blocks .wp-block-post-content > *:first-child:not(.wp-block-cover),
.is-root-container > *:first-child:not(.wp-block-template-part, .wp-block-cover, .wp-block-query) {
 	margin-top: var(--wp--preset--spacing--40);
}

/* Remove bottom margin from columns as spacing is handled with top margin */
/*.wp-block-columns {
	margin-bottom: 0;
}*/

/* Also add bottom margin on the last block for convenience */
.wp-site-blocks main > *:last-child,
.wp-site-blocks .wp-block-post-content > *:last-child {
	margin-bottom: var(--wp--preset--spacing--40);
}

/*--------------------------------------------------------------
# Vertical and Horizontal Spacing (Padding)
--------------------------------------------------------------*/

/* Groups with backgrounds have 2x the block gap setting */
.wp-block-group.has-background {
	padding: var(--wp--preset--spacing--60);
}

/* Columns container with backgrounds have 2x the block gap setting */
.wp-block-columns.has-background {
	padding: var(--wp--preset--spacing--60);
}

/* Individual columns with backgrounds have 1x the block gap setting */
.wp-block-column.has-background  {
	padding: var(--wp--preset--spacing--40);
}

/*--------------------------------------------------------------
# OVERRIDES for horizontal and vertical spacing (Padding)
--------------------------------------------------------------*/

/* FIX to add back padding to full width sections */
.has-global-padding > .alignfull:not(.wp-block-image,.wp-block-columns),
.has-global-padding.alignfull:not(.wp-block-image,.wp-block-columns),
.has-background > .alignfull:not(.wp-block-image,.wp-block-columns),
.has-background.alignfull:not(.wp-block-image,.wp-block-columns) {
    padding-left: var(--wp--style--root--padding-left, var(--wp--preset--spacing--52));
    padding-right: var(--wp--style--root--padding-right, var(--wp--preset--spacing--52));
}

/* ADD limit cover image text to wide width */
.wp-block-cover__inner-container {
	max-width: var(--wp--style--global--wide-size); 
}

/*
 * Responsive menu container padding.
 * This ensures the responsive container inherits the same
 * spacing defined above. This behavior may be built into
 * the Block Editor in the future.
 */
.wp-block-navigation__responsive-container.is-menu-open {
	padding-top: var(--wp--preset--spacing--60);
	padding-bottom: var(--wp--preset--spacing--60);
	padding-right: var(--wp--style--root--padding-right, var(--wp--preset--spacing--52));
	padding-left: var(--wp--style--root--padding-left, var(--wp--preset--spacing--52));
}

/*--------------------------------------------------------------
# Additional Alignments
--------------------------------------------------------------*/

/* FIX for center alignment */
.is-layout-constrained > .aligncenter {
	text-align: center;
}

/*--------------------------------------------------------------
# Links, Buttons, Search
--------------------------------------------------------------*/
/*
 * Text and navigation link styles.
 * Necessary until the following issue is resolved in Gutenberg:
 * https://github.com/WordPress/gutenberg/issues/27075
 */
a {
	cursor: pointer;
	text-decoration-thickness: 1px;
	text-underline-offset: 0.5ch;
}

/*
 * Button hover styles.
 * Necessary until the following issue is resolved in Gutenberg:
 * https://github.com/WordPress/gutenberg/issues/27075
 */
.wp-block-search__button:hover,
.wp-block-file .wp-block-file__button:hover,
.wp-block-button__link:hover {
	opacity: 0.8;
	cursor: pointer;
}

/* Set search button to match theme.json */
.wp-block-search__button {
	border: var(--wp--custom--border--width) solid transparent;
	border-radius: var(--wp--custom--border--radius);
	padding: var(--wp--preset--spacing--30) var(--wp--preset--spacing--40);
}

/* FIX font size and weight on search label and search text */
.wp-block-search .wp-block-search__label,
.wp-block-search__input {
	font-size: var(--wp--preset--font-size--small);
	font-weight: var(--wp--custom--typography--font-weight--normal);
}

/*--------------------------------------------------------------
# Elements
--------------------------------------------------------------*/

/* Use bold font-weight from theme.json */
strong, 
b {
	font-weight: var(--wp--custom--typography--font-weight--bold);
}

/* Prevent code from breaking layout */
code,
pre {
	overflow-x: auto;
}

/* Set lists with background to match other padding */
ol.has-background,
ul.has-background {
    padding: var(--wp--preset--spacing--40);
    list-style-position: inside;
}

/*--------------------------------------------------------------
# Buttons
--------------------------------------------------------------*/
/* FIX button radius in Safari */
button {
	border-radius: var(--wp--custom--border--radius);
}

/* Prevent iOS from rounding buttons */
input:not([type="radio"]):not([type="checkbox"]) {
    -webkit-appearance: none;
}

/*--------------------------------------------------------------
# Profile Pics (Avatars)
--------------------------------------------------------------*/

/*.avatar,
.testimonial-thumbnail {
	-webkit-border-radius: 50%;
	-moz-border-radius: 50%;
	border-radius: 50%;
}*/

/*--------------------------------------------------------------
# Navigation
--------------------------------------------------------------*/

/* Remove extra padding on sub-menus with backgrounds */
ul.wp-block-navigation__submenu-container.has-background {
	padding: 0;
}

/*--------------------------------------------------------------
# Images
--------------------------------------------------------------*/

/* Fix caption color when on colored background */
.has-background .wp-block-image figcaption {
	color: inherit;
	font-weight: var(--wp--custom--typography--font-weight--bold);
}

/* Fix center-aligned images since WordPress started using the figure tag */
figure.wp-block-image {
	display: table;
}

/*--------------------------------------------------------------
# Paragraphs
--------------------------------------------------------------*/
/* Match our padding for for paragraphs with background colors */
p.has-background {
    padding: var(--wp--preset--spacing--40);
    box-sizing: border-box;
}

/* Adjust outer padding on mobile */
/* Breakpoint of 781 is what is hard-coded in WordPress v6.0 to collapse columns */
@media only screen and (max-width: 781px) {
	
	p.has-background {
		padding-left: var(--wp--style--root--padding-left, var(--wp--preset--spacing--52));
		padding-right: var(--wp--style--root--padding-right, var(--wp--preset--spacing--52));
	}

}

/*--------------------------------------------------------------
# Quotes
--------------------------------------------------------------*/

/* OVERRIDE quote citation to be on new line */
.wp-block-quote cite,
.wp-block-pullquote cite {
	display: inline-block;
	text-transform: none;
}

/* OVERRIDE remove top margin because we use padding instead */
.wp-block-pullquote p {
	margin-top: 0; 
	/*font-size: 1em;*/
}

/*--------------------------------------------------------------
# Comments
--------------------------------------------------------------*/
/* Keep comments within content-size even when padding added */
.wp-block-comments {
    box-sizing: border-box;
}

/* Add padding to comment page numbers */
.wp-block-comments-pagination .page-numbers:nth-last-child(n+2) {
	padding-right: var(--wp--preset--spacing--30);
}

/* Don't show post comments if comments aren't allowed. */
/* TO-DO: Get this working */
/*.post-comments:empty {
	display: none;
	margin: 0;
}*/

/*--------------------------------------------------------------
# Separator
--------------------------------------------------------------*/

/* Fix to center default (narrow) separator when user selects alignfull */
.wp-block-separator.alignfull.is-style-default {
	margin-left: auto !important;
	margin-right: auto !important;
}

/*--------------------------------------------------------------
# Latest Comments
--------------------------------------------------------------*/
/* Set default latest comments to match latest posts, which has no bullets or indent */
.wp-block-latest-comments {
	list-style: none;
	padding-left: 0;
}

.wp-block-latest-comments__comment {
	margin-bottom: 0;
}

/*--------------------------------------------------------------
# Query Pagination
--------------------------------------------------------------*/
.wp-block-query-pagination-numbers .page-numbers:nth-last-child(n+2) {
	padding-right: var(--wp--preset--spacing--30);
}

/*--------------------------------------------------------------
# Dashicons for theme templates
--------------------------------------------------------------*/

/* Don't let dashicons force width and height. Let it come from the font size. */
.dashicons { /*}, 
.dashicons-before:before {*/
	width: auto !important;
	height: auto !important;
	font-weight: var(--wp--custom--typography--font-weight--normal) !important;
}

/* Add dashicons to various template tags */
.wp-block-post-author:before,
.wp-block-post-date:before,
.wp-block-post-terms:before,
.wp-block-post-comments-count:before {	
	font-family: dashicons;
	padding-right: var(--wp--preset--spacing--20);
}

.rtl .wp-block-post-author:before,
.rtl .wp-block-post-date:before,
.rtl .wp-block-post-terms:before,
.rtl .wp-block-post-terms:before,
.rtl .wp-block-post-comments-count:before {
	padding-right: 0;
	padding-left: var(--wp--preset--spacing--20);
}

/* dashicons-admin-users */
.wp-block-post-author:before {
	content: "\f110";
}

/* dashicons-calendar-alt */
.wp-block-post-date:before {
	content: "\f508";
}

/* dashicons-tag */
.wp-block-post-terms.taxonomy-category:before {
	content: "\f318";
}

/* dashicons-category */
.wp-block-post-terms.taxonomy-post_tag:before {
	content: "\f323";
}

/* dashicons-admin-comments for comments count */
.wp-block-post-comments-count:before {
	content: "\f101";
}
