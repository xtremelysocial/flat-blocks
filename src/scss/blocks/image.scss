/*-----------------------------------------------------------------------------
# Image
-----------------------------------------------------------------------------*/

/* Prevent figures (images, tables) with hard-coded dimensions from breaking the 
 * layout. Note the figure line is for older block editor markup. 
 */
figure.wp-caption:not(.alignfull):not(.alignwide),
figure.wp-caption:not(.alignfull):not(.alignwide) img {
	max-width: min( 100%, var(--wp--style--global--content-size) ) !important;
	height: auto;
	margin-left: auto;
	margin-right: auto;
}

/* FIX rounded images when global image style has a border radius */
.wp-block-image .is-style-rounded img, 
.wp-block-image.is-style-circle-mask img, 
.wp-block-image.is-style-rounded img {
    border-radius: 9999px !important;
}

/*-----------------------------------------------------------------------------
# Image: Custom
-----------------------------------------------------------------------------*/

/* Image Border */
.is-style-image-border img {
	border: 1px solid var(--wp--custom--color--border);
	border-radius: var(--wp--custom--border--radius);
	padding: var(--wp--preset--spacing--20);
}

.wp-block-gallery.is-style-image-border.has-nested-images figure.wp-block-image {
	&:not(.is-style-rounded):not(.is-style-image-round-border):not(.is-style-image-computer-screen):not(.is-style-image-tablet-phone-screen) {
		&:has(figcaption):before,
		& figcaption {
			bottom: calc(1px + var(--wp--preset--spacing--20)); 
			left: calc(1px + var(--wp--preset--spacing--20));
			padding: calc(1px + var(--wp--preset--spacing--20)) 0;
			width: calc(100% - 2 * (1px + var(--wp--preset--spacing--20)));
		}
	}
}

/* Image Round w/Border */
.is-style-image-round-border img {
	border: 1px solid var(--wp--custom--color--border);
	border-radius: 9999px; /*50%;*/
	padding: var(--wp--preset--spacing--20);
}

.wp-block-gallery.has-nested-images figure.wp-block-image.is-style-image-round-border:before {
    content: none;
}
.wp-block-gallery.has-nested-images figure.wp-block-image.is-style-image-round-border figcaption {
    background: none;
    color: inherit;
    flex: initial;
    margin: 0;
    padding: 10px 10px 9px;
    position: relative;
    text-shadow: none;
}

/* Image Computer Screen */
.is-style-image-computer-screen img {
	border: var(--wp--preset--spacing--60) solid var(--wp--preset--color--almost-black);
	border-radius: var(--wp--preset--spacing--40);
	border-bottom: 3px solid var(--wp--preset--color--almost-black);
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;
}

.wp-block-gallery.has-nested-images figure.wp-block-image.is-style-image-computer-screen {
	&:has(figcaption):before,
	& figcaption {
		left: var(--wp--preset--spacing--60);	
		width: calc(100% - 2 * var(--wp--preset--spacing--60));
	}
}

/* Image Phone/Tablet Screen */
.is-style-image-tablet-phone-screen img {
	border: var(--wp--preset--spacing--50) solid var(--wp--preset--color--almost-black);
	border-radius: var(--wp--preset--spacing--40);
}

.wp-block-gallery.has-nested-images figure.wp-block-image.is-style-image-tablet-phone-screen {
	&:has(figcaption):before,
	& figcaption {
		left: var(--wp--preset--spacing--50);	
		padding: var(--wp--preset--spacing--20) 0;
		width: calc(100% - 2 * var(--wp--preset--spacing--50));
	}
}
